# BACKUP INFO - WINENODE AUTH REMOVAL FASE 2
# Data: 2025-09-22T00:20:32+02:00

## STATO PRE-MODIFICA
- RLS ATTIVO su tutte le tabelle principali
- Policy basate su auth.uid() = user_id
- Tabelle con user_id: vini, giacenza, ordini, tipologie, fornitori
- Autenticazione Supabase completamente integrata

## BACKUP ESEGUITI
1. ARCHIVIATI/sql_policies/original_rls_policies.sql - Policy RLS originali
2. DOCS/REPORT_STEP_AUTH_REMOVAL_PHASE1.txt - Report Fase 1 completo

## TABELLE DA MODIFICARE
- public.vini (user_id UUID FK auth.users)
- public.giacenza (user_id UUID FK auth.users)  
- public.ordini (user_id UUID FK auth.users)
- public.tipologie (user_id UUID FK auth.users)
- public.fornitori (user_id UUID FK auth.users)

## ROLLBACK PLAN
Per annullare Fase 2:
1. Ripristinare RLS: ALTER TABLE <table> ENABLE ROW LEVEL SECURITY;
2. Ricreare policy da ARCHIVIATI/sql_policies/original_rls_policies.sql
3. Ripristinare user_id originali (se backup DB disponibile)
4. Ripristinare codice da git commit pre-Fase 2

⚠️ ATTENZIONE: Modifiche DB irreversibili senza backup completo Supabase
